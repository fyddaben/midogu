function main(){var e=document.getElementById("webgl"),t=getWebGLContext(e);if(!t)return void console.log("Failed to get the rendering context for WebGL");if(t.clearColor(0,0,0,1),!initShaders(t,VSHADER_SOURCE,FSHADER_SOURCE))return void console.log("Failed to initialize shaders");var r=t.getUniformLocation(t.program,"u_ModelMatrix"),n=initVertexBuffers(t);if(0>n)return void console.log("Failed to set the positions of the vertices");var a=0,o=new Matrix4,i=function(){a=animate(a),draw(t,n,a,o,r),requestAnimationFrame(i)};i(),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,n)}function animate(e){var t=Date.now(),r=t-g_last;g_last=t;var n=e+r*ANGLE_STEP/1e3;return n%360}function draw(e,t,r,n,a){n.setRotate(r,0,0,1),n.translate(.35,0,0),e.uniformMatrix4fv(a,!1,n.elements),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLES,0,t)}function initVertexBuffers(e){var t=new Float32Array([0,.5,.5,-.3,-.5,-.3]),r=3,n=e.createBuffer();if(!n)return console.log("Failed to create the buffer object"),-1;e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW);var a=e.getAttribLocation(e.program,"a_Position");return e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),r}var VSHADER_SOURCE=document.getElementById("vs-tpl").innerHTML,FSHADER_SOURCE=document.getElementById("fs-tpl").innerHTML,ANGLE=90,ANGLE_STEP=45,g_last=Date.now();